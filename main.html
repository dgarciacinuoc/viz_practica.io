<html>
    <head>
        <script src="./engine/viz_engine.js"></script>
        <script src="./crime_dics.js"></script>

        <script>
                const json_2023 = 'https://data.lacity.org/resource/2nrs-mtv8.json'
                const json_former = 'https://data.lacity.org/api/views/63jg-8b9z/rows.json'
                let json = [];
                async function loadJSON(url, limit, offset) {
                    let buffer;
                    offset = offset || 0;
                    limit = limit || 10000;
                    url = url + '?$limit=' + limit + '&$offset=' + offset;
                    const response = await fetch(url)
                        .then(response => response.json())
                        .then(data => {
                             buffer = data;
                        })
                    for(let i=0; i < buffer.length; i++){
                        json.push(buffer[i])
                    }   
                }
                
                loadJSON(json_2023);
        </script>
    </head>
    <body>
        <script>
            let t = new WaffleChart('d', 2, 5);
            
        </script>
    </body>
    </body>
</html>